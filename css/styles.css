/* Sidebar navigation for server manager */
.sidebar-nav {
	position: fixed;
	left: 0; top: 0; bottom: 0;
	width: var(--side-width);
	background: var(--panel);
	box-shadow: 2px 0 18px rgba(0,0,0,0.55);
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: var(--pad) 12px 12px 12px;
	gap: 18px;
	z-index: 100;
}
.nav-title {
	font-size: 20px;
	font-weight: 800;
	color: var(--accent);
	margin: 0;
	text-align: center;
}
.nav-btn {
	width: 140px;
	margin-bottom: 8px;
	font-size: 16px;
	font-weight: 700;
	padding: 12px 8px;
	border-radius: 10px;
	background: var(--btn-bg);
	color: var(--accent);
	border: none;
	cursor: pointer;
	transition: transform 0.12s ease, box-shadow 0.12s ease;
}
.nav-btn:hover, .nav-btn:focus {
	transform: translateY(-4px);
	box-shadow: 0 12px 30px rgba(0,0,0,0.45);
}

/* Main content shifts right for sidebar */
.with-sidebar {
	margin-left: 180px;
}

/* Make panel and buttons more accessible */
.panel, .popup-card {
	font-size: 16px;
}
.panel button, .panel select, #mainPanel button {
	font-size: 16px;
	padding: 12px 14px;
	margin-bottom: 10px;
	border-radius: 10px;
}
.panel button, .nav-btn, #mainPanel button {
	min-width: 120px;
}
.panel h2 {
	font-size: 22px;
	margin-bottom: 6px;
}

/* Help popup tweaks */
#helpPopup .popup-card {
	width: 420px;
	max-width: 92%;
	text-align: left;
}

@media (max-width: 900px) {
	.sidebar-nav { position: static; width: 100%; flex-direction: row; height: auto; box-shadow: none; padding: 10px 0; }
	.nav-title { font-size: 16px; margin-bottom: 0; margin-right: 18px; }
	.nav-btn { width: auto; min-width: 80px; font-size: 13px; padding: 8px 8px; margin-bottom: 0; margin-right: 10px; }
	.with-sidebar { margin-left: 0; }
}
/* Shared site styles for Games Hub and games */
:root{ --bg-main:#000000; --panel:#0f0f11; --btn-bg:#061428; --accent:#4ea3ff; --muted:#9fb6d8; --gap:28px; --pad:32px; --radius:14px; --panel-width:380px; --side-width:200px; --elevation: 0 10px 30px rgba(0,0,0,0.6); }
/* larger base font and full-viewport layout */
body{ margin:0; font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial; color:#fff; background:var(--bg-main); display:flex; flex-direction:column; font-size:18px }

	.wrap{ width:100%; height:calc(100vh - 40px); max-width:1200px; margin:var(--pad) auto; margin-top:0; display:flex; gap:28px; padding:var(--pad); box-sizing:border-box; }
html, body, .home, .game-page { height:100%; min-height:100vh; }
.with-sidebar .wrap { margin-left: calc(var(--side-width) + var(--pad)); }
.left{ flex:1; min-width:0; display:flex; flex-direction:column; }
canvas, .left canvas, #serverCanvas, #simCanvas, #board { width:100% !important; height:100% !important; max-height:none; display:block; }
.panel{ width:var(--panel-width); flex-shrink:0; height:100%; overflow:auto; }
.nav-title{ font-size:22px }
.nav-btn{ padding:14px 12px; font-size:18px }
.panel h2{ font-size:20px }
.money{ font-size:28px }
.title{ font-size:36px }

/* Hub */
.hub{ width:920px; max-width:calc(100% - 40px); padding:24px; border-radius:12px; background:var(--panel); box-shadow:0 12px 40px rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.03); display:flex; flex-direction:column }
.hub h1{ margin:0 0 8px 0; font-size:26px; color:var(--accent); font-weight:800 }
.desc{ color:var(--muted); margin-bottom:18px }
.games{ display:grid; grid-template-columns: repeat(3,1fr); gap:16px }
.game{ background:var(--panel); padding:18px; border-radius:12px; text-align:center; transition: transform 160ms ease, box-shadow 160ms ease; box-shadow: 0 8px 24px rgba(0,0,0,0.6) }
	.game:hover{ transform: translateY(-4px); box-shadow: 0 10px 28px rgba(0,0,0,0.6) }
	.game img{ width:96px; height:auto; }
.game a{ display:inline-block; margin-top:10px; padding:8px 12px; background:var(--btn-bg); color:var(--accent); border-radius:10px; text-decoration:none; font-weight:800 }
.game .title{ margin-top:8px; font-weight:800 }
	.bloom{ display:none }
/* Responsive hub grid */
@media (max-width:1100px){ .games{ grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); } }
@media (max-width:700px){ .games{ grid-template-columns: repeat(auto-fit,minmax(160px,1fr)); } }
@media (max-width:420px){ .games{ grid-template-columns: 1fr; gap:12px } }

/* Ensure hub container scales and centers on narrow devices */
body.home{ display:flex; align-items:flex-start; justify-content:center; padding:28px 18px; box-sizing:border-box }
.hub{ box-sizing:border-box }

/* Cookie game extra responsive tweak */
@media (max-width:680px){ .top-row{ flex-direction:column; } .cookie-area{ width:100%; } .shop{ width:100%; } }

/* Train simulator removed */

/* Cookie game specific */
.game-page{ display:flex; flex-direction:column; align-items:center; justify-content:flex-start; padding:18px; min-height:100vh }
.game-page a.home{ position:fixed; left:20px; top:20px; color:var(--accent); text-decoration:none; font-weight:700 }
	.title{ font-size:28px; font-weight:800; background:transparent; padding:8px 16px; border-radius:10px }
.cookie-wrap{ margin-top:22px; display:flex; flex-direction:column; align-items:center; gap:12px; width:100%; max-width:920px; margin-left:auto; margin-right:auto }
.top-row{ display:flex; width:100%; gap:16px; }
	#cookie{ width:240px; cursor:pointer }
.cookie-area{ flex:0 0 320px; display:flex; flex-direction:column; align-items:center; padding:18px; border-radius:12px; background:#0e0e10; }
#cookie{ width:240px; filter:drop-shadow(0 16px 40px rgba(36,72,140,0.45)); cursor:pointer }
#counter{ font-size:28px; color:var(--accent); font-weight:800 }
.shop{ display:grid; grid-template-columns:repeat(2,1fr); gap:12px; flex:1 }
	.card{ padding:12px; border-radius:12px; background:#0f0f11; }
.card h3{ margin:0; font-size:16px }
.card p{ margin:0; color:var(--muted); font-size:13px }
.card .meta{ display:flex; justify-content:space-between; align-items:center; margin-top:8px }
.card button{ background:var(--btn-bg); color:var(--accent); border-radius:8px; padding:8px 10px; border:none; cursor:pointer; font-weight:700 }
.admin-panel{ margin-top:16px; display:flex; gap:8px; align-items:center }
.float{ position:absolute; pointer-events:none; font-weight:800; color:var(--accent); text-shadow:0 10px 30px rgba(36,72,140,0.45) }
.particle{ position:absolute; width:8px; height:8px; border-radius:50%; pointer-events:none }
@media (max-width:820px){ .cookie-wrap{ width:calc(100% - 24px) } .shop{ grid-template-columns:1fr } #cookie{ width:160px } }

/* Tic-tac-toe responsive cells */
@media (max-width:540px){
	#ttt-board{ grid-template-columns: repeat(3, clamp(48px, 24vw, 88px)); grid-template-rows: repeat(3, clamp(48px, 24vw, 88px)); gap:8px; }
	#ttt-board button{ width: clamp(48px, 24vw, 88px); height: clamp(48px, 24vw, 88px); font-size: clamp(28px, 10vw, 48px) !important; }
}
@media (min-width:541px){
	#ttt-board{ grid-template-columns: repeat(3, clamp(64px, 12vmin, 120px)); grid-template-rows: repeat(3, clamp(64px, 12vmin, 120px)); gap:12px; }
	#ttt-board button{ width: clamp(64px, 12vmin, 120px); height: clamp(64px, 12vmin, 120px); font-size: clamp(36px, 5vmin, 64px) !important; }
}
